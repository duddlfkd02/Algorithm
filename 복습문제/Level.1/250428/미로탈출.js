/* ğŸ§  ë¬¸ì œ ì„¤ëª…

NÃ—M í¬ê¸°ì˜ 2ì°¨ì› ë¯¸ë¡œê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
ê° ì¹¸ì€ 0 ë˜ëŠ” 1ë¡œ ì´ë£¨ì–´ì ¸ ìˆê³ ,
	â€¢	1ì€ ì´ë™í•  ìˆ˜ ìˆëŠ” í†µë¡œ,
	â€¢	0ì€ ë²½ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì‹œì‘ì  (0,0)ì—ì„œ ì¶œêµ¬ (N-1,M-1)ê¹Œì§€ ì´ë™í•˜ë ¤ê³  í•  ë•Œ,
ìµœë‹¨ ê²½ë¡œë¡œ ì´ë™í•  ë•Œ ì§€ë‚˜ì•¼ í•˜ëŠ” ì¹¸ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ì„¸ìš”.


âœ… ì…ì¶œë ¥
	â€¢	ì²« ì¤„ì— ì •ìˆ˜ N, M (2 â‰¤ N, M â‰¤ 100)
	â€¢	ë‹¤ìŒ Nê°œì˜ ì¤„ì— ê¸¸ì´ê°€ Mì¸ ë¬¸ìì—´(0ê³¼ 1ë¡œ êµ¬ì„±)ì´ ì£¼ì–´ì§‘ë‹ˆë‹¤.

	â€¢	(0,0)ì—ì„œ (N-1,M-1)ê¹Œì§€ ìµœë‹¨ ê²½ë¡œë¡œ ì´ë™í•  ë•Œ ì¹¸ì˜ ê°œìˆ˜
	â€¢	ì´ë™ì´ ë¶ˆê°€ëŠ¥í•˜ë©´ -1ì„ ë°˜í™˜

input:
5 6
101010
111111
000001
111111
111111

output:
10

// í•œ ê°€ì§€ ìµœë‹¨ ê²½ë¡œ(â†’ ì•„ë˜ â†˜ â†˜ â†’ â€¦)ë¥¼ ë”°ë¼  
// ì´ 10ì¹¸ì„ ì§€ë‚˜ê²Œ ë©ë‹ˆë‹¤.
*/

const grid = [
  [1, 1, 0],
  [1, 1, 1],
  [0, 1, 1],
];

function solution(grid) {
  const N = grid.length; // í–‰ ê°œìˆ˜
  const M = grid[0].length; // ì—´ ê°œìˆ˜

  const visited = Array.from({ length: N }, () => Array(M).fill(false));

  const dx = [1, -1, 0, 0]; // ì¢Œìš°
  const dy = [0, 0, 1, -1]; // ìƒí•˜

  const queue = [];
  visited[0][0] = true; // ì¶œë°œì  0,0 trueë¡œ ì„¤ì •
  queue.push([0, 0, 1]);

  while (queue.length > 0) {
    const [i, j, dist] = queue.shift();
    if (i === N - 1 && j === M - 1) return dist;

    for (let k = 0; k < 4; k++) {
      const ni = dx[k] + i;
      const nj = dy[k] + j;
      // 1. ë²”ìœ„ ê²€ì‚¬
      if (ni < 0 || nj < 0 || ni >= N || nj >= M) continue;
      // 2. ë²½ ê²€ì‚¬
      if (grid[ni][nj] === 0) continue;
      // 3. ë°©ë¬¸ ê²€ì‚¬
      if (visited[ni][nj]) continue;

      // 4. ë°©ë¬¸ì²˜ë¦¬ + í ì‚½ì…
      visited[ni][nj] = true;
      queue.push([ni, nj, dist + 1]);
    }
  }
  return -1;
}

console.log(solution(grid));

/**
 * BFS íƒìƒ‰ íë¦„
 * ë²”ìœ„ ê²€ì‚¬ â†’ ë²½ ê²€ì‚¬ â†’ ë°©ë¬¸ ê²€ì‚¬ â†’ ë°©ë¬¸ ì²˜ë¦¬ â†’ í ì‚½ì…
 */
