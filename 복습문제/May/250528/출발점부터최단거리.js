/* ðŸ§  ë¬¸ì œ ì„¤ëª…

ë°©í–¥ì„±ì´ ì—†ëŠ” ê°€ì¤‘ì¹˜ ê·¸ëž˜í”„ê°€ ì£¼ì–´ì§ˆ ë•Œ,
1ë²ˆ ì •ì ì—ì„œ ê° ì •ì ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ ëª¨ë‘ êµ¬í•˜ì„¸ìš”.
ê²½ë¡œê°€ ì¡´ìž¬í•˜ì§€ ì•Šìœ¼ë©´ Infinity í˜¹ì€ ì ì ˆí•œ í‘œì‹œë¡œ ë‚¨ê¸°ì‹œë©´ ë©ë‹ˆë‹¤.

âœ… ìž…ë ¥
ì²«ì§¸ ì¤„: ì •ì  ê°œìˆ˜ N, ê°„ì„  ê°œìˆ˜ M  
(1 â‰¤ N â‰¤ 1,000, 1 â‰¤ M â‰¤ 50,000)  
ë‹¤ìŒ Mì¤„: u v w  
  // ì–‘ë°©í–¥ ê°„ì„  uâ€“v, ê°€ì¤‘ì¹˜ w (1 â‰¤ u,v â‰¤ N, 1 â‰¤ w â‰¤ 10,000)



âœ… ì¶œë ¥
ì²«ì§¸ ì¤„: ì •ì  ê°œìˆ˜ N, ê°„ì„  ê°œìˆ˜ M  
(1 â‰¤ N â‰¤ 1,000, 1 â‰¤ M â‰¤ 50,000)  
ë‹¤ìŒ Mì¤„: u v w  
  // ì–‘ë°©í–¥ ê°„ì„  uâ€“v, ê°€ì¤‘ì¹˜ w (1 â‰¤ u,v â‰¤ N, 1 â‰¤ w â‰¤ 10,000)



input:
5 6
1 2 2 u v w
1 3 5
2 3 1
2 4 2
3 5 3
4 5 1

output:
0
2
3
4
5
*/

const inputLines = [
  "5 6",
  "1 2 2",
  "1 3 5",
  "2 3 1",
  "2 4 2",
  "3 5 3",
  "4 5 1",
];

function solution(inputLines) {
  const [N, M] = inputLines[0].split(" ").map(Number);
  const adj = Array.from({ length: N + 1 }, () => []);

  for (let i = 1; i <= M; i++) {
    const [u, v, w] = inputLines[i].split(" ").map(Number);
    adj[u].push([v, w]);
    adj[v].push([u, w]);
  }
  // ì˜ˆì œì¼ ë•Œ, adj[1] = [[2,2],[3,5]], adj[2] = [[1,2],[3,1],[4,2]], â€¦

  const dist = Array(N + 1).fill(Infinity);

  dist[1] = 0;

  // ê°„ë‹¨í•œ ìš°ì„ ìˆœìœ„ í ì—­í• : [ê±°ë¦¬, ì •ì ] ìŒì„ ë‹´ëŠ” ë°°ì—´
  let pq = [[0, 1]];

  while (pq.length > 0) {
    //ê°€ìž¥ ì§§ì€ í›„ë³´ë¥¼ êº¼ë‚´ê¸° ìœ„í•´ ì •ë ¬
    pq.sort((a, b) => a[0] - b[0]);

    const [d, u] = pq.shift();
    // d: í˜„ìž¬ êº¼ë‚¸ í›„ë³´ì˜ ê±°ë¦¬, u: ê·¸ë•Œì˜ ì •ì  ë²ˆí˜¸
    // ì˜ˆ: ì²« ë£¨í”„ì— [0,1]ì´ êº¼ì ¸ì„œ d=0, u=1

    // ì´ë¯¸ ë” ì§§ì€ ê²½ë¡œë¥¼ ë°œê²¬í–ˆìœ¼ë©´ ì´ ì—”íŠ¸ë¦¬ëŠ” ë¬´ì‹œ
    if (d > dist[u]) continue;
    // ì˜ˆ: ë‚˜ì¤‘ì— uê¹Œì§€ ê±°ë¦¬ê°€ 3ìœ¼ë¡œ ê°±ì‹ ëœ ë’¤ [5,3] ê°™ì€ í›„ë³´ê°€ ë‚˜ì˜¤ë©´ ìŠ¤í‚µ

    //uì—ì„œ ì´ì–´ì§€ëŠ” ëª¨ë“  ê°„ì„ ì„ ê²€ì‚¬
    for (const [v, w] of adj[u]) {
      const nd = d + w; // uê¹Œì§€ ê±°ë¦¬ d + uâ†’v ê°€ì¤‘ì¹˜
      if (dist[v] > nd) {
        dist[v] = nd;
        pq.push([nd, v]);
      }
    }
  }

  // dist[1] = 0, dist[2] = 2, dist[3] = 3, dist[4] = 4, dist[5] = 5
  return dist;
}

console.log(solution(inputLines));
