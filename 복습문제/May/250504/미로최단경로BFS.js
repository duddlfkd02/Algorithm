/* ðŸ§  ë¬¸ì œ ì„¤ëª…

í¬ê¸°ê°€ N\times Mì¸ ë¯¸ë¡œê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
	â€¢	ì¹¸ ê°’ì´ 1ì´ë©´ ì´ë™í•  ìˆ˜ ìžˆê³ ,
	â€¢	0ì´ë©´ ë²½ì´ë¼ ì´ë™í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ì¶œë°œì (0,0)ì—ì„œ ì¶œêµ¬(Nâˆ’1,Mâˆ’1)ê¹Œì§€ ì´ë™í•  ë•Œ
ì§€ë‚˜ì•¼ í•˜ëŠ” ì¹¸ì˜ ìµœì†Œ ê°œìˆ˜ë¥¼ êµ¬í•˜ì„¸ìš”.
ì´ë™í•  ìˆ˜ ì—†ìœ¼ë©´ -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.


input:
5 6
101010
111111
000001
111111
111111

output:
10
*/
const grid = [
  [1, 0, 1, 0, 1, 0],
  [1, 1, 1, 1, 1, 1],
  [0, 0, 0, 0, 0, 1],
  [1, 1, 1, 1, 1, 1],
  [1, 1, 1, 1, 1, 1],
];

function solution(grid) {
  const N = grid.length;
  const M = grid[0].length;
  const visited = Array.from({ length: N }, () => Array(M).fill(false));

  const dx = [1, -1, 0, 0];
  const dy = [0, 0, 1, -1];
  const queue = [];

  visited[0][0] = true;
  queue.push([0, 0, 1]);

  while (queue.length > 0) {
    const [x, y, dist] = queue.shift();
    if (x === N - 1 && y === M - 1) return dist;

    for (let k = 0; k < 4; k++) {
      const nx = x + dx[k];
      const ny = y + dy[k];

      // ë²”ìœ„ ê²€ìƒ‰
      if (
        nx >= 0 &&
        ny >= 0 &&
        nx < N &&
        ny < M &&
        grid[nx][ny] === 1 &&
        !visited[nx][ny]
      ) {
        visited[nx][ny] = true;
        queue.push([nx, ny, dist + 1]);
      }
    }
  }
  return -1;
}
console.log(solution(grid));

/**
 * ì§ˆë¬¸ 1
 * Q. while ë£¨í”„ê°€ ì™œ í•„ìš”í•œê°€?
 * A. ì™„ì „íƒìƒ‰ì„ í•  ë•Œ queueì— ê°’ì´ ìžˆì„ ë•ŒëŠ” ë°˜ë³µí•˜ê³  ê°’ì´ ì—†ë‹¤ë©´ (length === 0) ìžë™ìœ¼ë¡œ ì¢…ë£Œí•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ while ë£¨í”„ë¥¼ ì‚¬ìš©í•œë‹¤.
 *
 * ì§ˆë¬¸ 2
 * Q. ê° if ì¡°ê±´ (grid[nx][ny] === 1 & !visited)ì€ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€
 * A. grid[nx][ny] === 1ì€ í•´ë‹¹ ì¢Œí‘œì˜ ì¹¸ ê°’ì´ 1ì¸ì§€ í™•ì¸í•˜ì—¬ ì´ë™ ê°€ëŠ¥í•œ ì¹¸ì¸ì§€ íŒë‹¨í•˜ëŠ” ì¡°ê±´ì´ë‹¤. !visitedëŠ” ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¹¸ì¸ì§€ í™•ì¸í•˜ì—¬ ì¤‘ë³µ ë°©ë¬¸ì„ ë°©ì§€í•œë‹¤.
 *
 * ì§ˆë¬¸ 3.
 * Q. distë¥¼ 1ë¡œ ì‹œìž‘í•´ì„œ ë§¤ ì´ë™ë§ˆë‹¤ dist+1ì„ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ì§€
 * A. distëŠ” í˜„ìž¬ê¹Œì§€ ì§€ë‚˜ì˜¨ ì¹¸ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ê³ , ì¶œë°œì  (0,0)ë¶€í„° ì‹œìž‘í•˜ë¯€ë¡œ 1ë¡œ ì´ˆê¸°í™”í•œë‹¤. ì´ë™í•  ë•Œë§ˆë‹¤ ì§€ë‚˜ì˜¨ ì¹¸ ìˆ˜ë¥¼ 1ì”© ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´ dist + 1ì„ ì‚¬ìš©í•œë‹¤.
 */
